!function(R,C){"object"==typeof exports&&"object"==typeof module?module.exports=C():"function"==typeof define&&define.amd?define("dscc",[],C):"object"==typeof exports?exports.dscc=C():R.dscc=C()}(window,function(){return function(R){var C={};function E(e){if(C[e])return C[e].exports;var n=C[e]={i:e,l:!1,exports:{}};return R[e].call(n.exports,n,n.exports,E),n.l=!0,n.exports}return E.m=R,E.c=C,E.d=function(R,C,e){E.o(R,C)||Object.defineProperty(R,C,{configurable:!1,enumerable:!0,get:e})},E.r=function(R){Object.defineProperty(R,"__esModule",{value:!0})},E.n=function(R){var C=R&&R.__esModule?function(){return R.default}:function(){return R};return E.d(C,"a",C),C},E.o=function(R,C){return Object.prototype.hasOwnProperty.call(R,C)},E.p="",E(E.s="./src/index.ts")}({"./src/index.ts":function(R,C,E){"use strict";var e=this&&this.__assign||Object.assign||function(R){for(var C,E=1,e=arguments.length;E<e;E++)for(var n in C=arguments[E])Object.prototype.hasOwnProperty.call(C,n)&&(R[n]=C[n]);return R};Object.defineProperty(C,"__esModule",{value:!0});var n=E("./src/types.ts");!function(R){for(var E in R)C.hasOwnProperty(E)||(C[E]=R[E])}(E("./src/types.ts")),C.getWidth=function(){return document.body.clientWidth},C.getHeight=function(){return document.documentElement.clientHeight};C.parseImage=function(R){var C=R.split("  "),E=C[0],e=C[1];return{altText:C[2],originalUrl:E,proxiedUrl:e}};var t=function(R){return R.fields.reduce(function(R,C){return R[C.id]=C,R},{})},N=function(R){return R.type===n.ConfigDataElementType.DIMENSION||R.type===n.ConfigDataElementType.METRIC},r=function(R){return R===n.ConfigDataElementType.DIMENSION?-1:1},_=function(R){var C=[];R.config.data.forEach(function(R){R.elements.forEach(function(R){C.push(R)})});var E,e=C.filter(N),n=[];return(E=function(R,C){return r(R.type)-r(C.type)},e.map(function(R,C){return{item:R,index:C}}).sort(function(R,C){return E(R.item,C.item)||R.index-C.index}).map(function(R){return R.item})).forEach(function(R){R.value.forEach(function(){return n.push(R.id)})}),n};C.fieldsByConfigId=function(R){var C=t(R),E={};return R.config.data.forEach(function(R){R.elements.forEach(function(R){E[R.id]=R.value.map(function(R){return C[R]})})}),E};var U=function(R){var C={};return(R.config.style||[]).forEach(function(R){R.elements.forEach(function(R){if(void 0!==C[R.id])throw new Error("styleIds must be unique. Your styleId: '"+R.id+"' is used more than once.");C[R.id]={value:R.value,defaultValue:R.defaultValue}})},{}),C},o=function(R){return R.config.themeStyle};C.tableTransform=function(R){return{tables:function(R){var E,N=C.fieldsByConfigId(R),r={},U=_(R).map(function(R){void 0===r[R]?r[R]=0:r[R]++;var C=r[R],E=N[R][C];return e({},E,{configId:R})}),o=(t(R),(E={})[n.TableType.DEFAULT]={headers:[],rows:[]},E);return R.dataResponse.tables.forEach(function(R){o[R.id]={headers:U,rows:R.rows}}),o}(R),fields:C.fieldsByConfigId(R),style:U(R),theme:o(R)}},C.objectTransform=function(R){return{tables:function(R){var C,E=_(R),e=(t(R),(C={})[n.TableType.DEFAULT]=[],C);return R.dataResponse.tables.forEach(function(R){var C=R.rows.map(function(R){return function(C){var E,e,n={};return(E=C,e=R,E.length<e.length?E.map(function(R,C){return[R,e[C]]}):e.map(function(R,C){return[E[C],R]})).forEach(function(R){var C=R[0],E=R[1];void 0===n[E]&&(n[E]=[]),n[E].push(C)},{}),n}}(E));e[R.id]=C}),e}(R),fields:C.fieldsByConfigId(R),style:U(R),theme:o(R)}},C.subscribeToData=function(R,E){if(E.transform===C.tableTransform||E.transform===C.objectTransform){var e=function(C){C.data.type===n.MessageType.RENDER?R(E.transform(C.data)):console.error("MessageType: "+C.data.type+" is not supported by this version of the library.")};window.addEventListener("message",e);var t=window.frameElement.getAttribute("componentid");return window.parent.postMessage({componentId:t,type:"vizReady"},"*"),function(){return window.removeEventListener("message",e)}}throw new Error("Only the built in transform functions are supported.")}},"./src/types.ts":function(R,C,E){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),function(R){R.METRIC="METRIC",R.DIMENSION="DIMENSION"}(C.ConceptType||(C.ConceptType={})),function(R){R.RENDER="RENDER"}(C.MessageType||(C.MessageType={})),function(R){R.YEAR="YEAR",R.YEAR_QUARTER="YEAR_QUARTER",R.YEAR_MONTH="YEAR_MONTH",R.YEAR_WEEK="YEAR_WEEK",R.YEAR_MONTH_DAY="YEAR_MONTH_DAY",R.YEAR_MONTH_DAY_HOUR="YEAR_MONTH_DAY_HOUR",R.QUARTER="QUARTER",R.MONTH="MONTH",R.WEEK="WEEK",R.MONTH_DAY="MONTH_DAY",R.DAY_OF_WEEK="DAY_OF_WEEK",R.DAY="DAY",R.HOUR="HOUR",R.MINUTE="MINUTE",R.DURATION="DURATION",R.COUNTRY="COUNTRY",R.COUNTRY_CODE="COUNTRY_CODE",R.CONTINENT="CONTINENT",R.CONTINENT_CODE="CONTINENT_CODE",R.SUB_CONTINENT="SUB_CONTINENT",R.SUB_CONTINENT_CODE="SUB_CONTINENT_CODE",R.REGION="REGION",R.REGION_CODE="REGION_CODE",R.CITY="CITY",R.CITY_CODE="CITY_CODE",R.METRO_CODE="METRO_CODE",R.LATITUDE_LONGITUDE="LATITUDE_LONGITUDE",R.NUMBER="NUMBER",R.PERCENT="PERCENT",R.TEXT="TEXT",R.BOOLEAN="BOOLEAN",R.URL="URL",R.IMAGE="IMAGE",R.CURRENCY_AED="CURRENCY_AED",R.CURRENCY_ALL="CURRENCY_ALL",R.CURRENCY_ARS="CURRENCY_ARS",R.CURRENCY_AUD="CURRENCY_AUD",R.CURRENCY_BDT="CURRENCY_BDT",R.CURRENCY_BGN="CURRENCY_BGN",R.CURRENCY_BOB="CURRENCY_BOB",R.CURRENCY_BRL="CURRENCY_BRL",R.CURRENCY_CAD="CURRENCY_CAD",R.CURRENCY_CDF="CURRENCY_CDF",R.CURRENCY_CHF="CURRENCY_CHF",R.CURRENCY_CLP="CURRENCY_CLP",R.CURRENCY_CNY="CURRENCY_CNY",R.CURRENCY_COP="CURRENCY_COP",R.CURRENCY_CRC="CURRENCY_CRC",R.CURRENCY_CZK="CURRENCY_CZK",R.CURRENCY_DKK="CURRENCY_DKK",R.CURRENCY_DOP="CURRENCY_DOP",R.CURRENCY_EGP="CURRENCY_EGP",R.CURRENCY_ETB="CURRENCY_ETB",R.CURRENCY_EUR="CURRENCY_EUR",R.CURRENCY_GBP="CURRENCY_GBP",R.CURRENCY_HKD="CURRENCY_HKD",R.CURRENCY_HRK="CURRENCY_HRK",R.CURRENCY_HUF="CURRENCY_HUF",R.CURRENCY_IDR="CURRENCY_IDR",R.CURRENCY_ILS="CURRENCY_ILS",R.CURRENCY_INR="CURRENCY_INR",R.CURRENCY_IRR="CURRENCY_IRR",R.CURRENCY_ISK="CURRENCY_ISK",R.CURRENCY_JMD="CURRENCY_JMD",R.CURRENCY_JPY="CURRENCY_JPY",R.CURRENCY_KRW="CURRENCY_KRW",R.CURRENCY_LKR="CURRENCY_LKR",R.CURRENCY_LTL="CURRENCY_LTL",R.CURRENCY_MNT="CURRENCY_MNT",R.CURRENCY_MVR="CURRENCY_MVR",R.CURRENCY_MXN="CURRENCY_MXN",R.CURRENCY_MYR="CURRENCY_MYR",R.CURRENCY_NOK="CURRENCY_NOK",R.CURRENCY_NZD="CURRENCY_NZD",R.CURRENCY_PAB="CURRENCY_PAB",R.CURRENCY_PEN="CURRENCY_PEN",R.CURRENCY_PHP="CURRENCY_PHP",R.CURRENCY_PKR="CURRENCY_PKR",R.CURRENCY_PLN="CURRENCY_PLN",R.CURRENCY_RON="CURRENCY_RON",R.CURRENCY_RSD="CURRENCY_RSD",R.CURRENCY_RUB="CURRENCY_RUB",R.CURRENCY_SAR="CURRENCY_SAR",R.CURRENCY_SEK="CURRENCY_SEK",R.CURRENCY_SGD="CURRENCY_SGD",R.CURRENCY_THB="CURRENCY_THB",R.CURRENCY_TRY="CURRENCY_TRY",R.CURRENCY_TWD="CURRENCY_TWD",R.CURRENCY_TZS="CURRENCY_TZS",R.CURRENCY_UAH="CURRENCY_UAH",R.CURRENCY_USD="CURRENCY_USD",R.CURRENCY_UYU="CURRENCY_UYU",R.CURRENCY_VEF="CURRENCY_VEF",R.CURRENCY_VND="CURRENCY_VND",R.CURRENCY_YER="CURRENCY_YER",R.CURRENCY_ZAR="CURRENCY_ZAR"}(C.FieldType||(C.FieldType={})),function(R){R.DEFAULT="DEFAULT",R.COMPARISON="COMPARISON",R.SUMMARY="SUMMARY"}(C.TableType||(C.TableType={})),function(R){R.METRIC="METRIC",R.DIMENSION="DIMENSION",R.SORT="SORT",R.MAX_RESULTS="MAX_RESULTS"}(C.ConfigDataElementType||(C.ConfigDataElementType={})),function(R){R.TEXTINPUT="TEXTINPUT",R.SELECT_SINGLE="SELECT_SINGLE",R.CHECKBOX="CHECKBOX",R.FONT_COLOR="FONT_COLOR",R.FONT_SIZE="FONT_SIZE",R.FONT_FAMILY="FONT_FAMILY",R.FILL_COLOR="FILL_COLOR",R.BORDER_COLOR="BORDER_COLOR",R.AXIS_COLOR="AXIS_COLOR",R.GRID_COLOR="GRID_COLOR",R.OPACITY="OPACITY",R.LINE_WEIGHT="LINE_WEIGHT",R.LINE_STYLE="LINE_STYLE",R.BORDER_RADIUS="BORDER_RADIUS",R.INTERVAL="INTERVAL",R.SELECT_RADIO="SELECT_RADIO"}(C.ConfigStyleElementType||(C.ConfigStyleElementType={}))}})});